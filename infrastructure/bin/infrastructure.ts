#!/usr/bin/env node
import * as cdk from 'aws-cdk-lib';

import { GithubSourcedPipelineStack } from "../lib/github-sourced-pipeline-stack"
import { SwiftLambdaWithFunctionUri } from '../lib/swift-lambda-with-function-uri';

const app = new cdk.App();

new GithubSourcedPipelineStack(app, "StackName", {
  pipelineApplications: [
    new SwiftLambdaWithFunctionUri("executableName")
  ],
  infrastructureExecutableName: "infrastructureExecutableName",
  swiftVersion: "swiftVersionString",
  awsRegion: "awsRegion",
  repositoryOwner: "repositoryOwner",
  repositoryName: "repositoryName",
  repositoryBranch: "repositoryBranch",
  sourceConnectionArn: "sourceConnectionArn"
})

throw new Error("Application definition needs to be generated by wrapping Swift application")